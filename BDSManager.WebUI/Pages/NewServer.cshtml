@page
@model NewServerModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers;
@{
    ViewData["Title"] = "Create New Server";
}

<div>
    <h1 class="display-4">Create New Server</h1>
    <form method="post">
        <label class="form-label" asp-for="Server.Options.Name">Name</label>
        <input type="text" class="form-control" placeholder="Name" asp-for="Server.Options.Name" value="@Model.Server.Options.Name" />
        <label class="form-label" asp-for="Server.Options.LevelName">Level Name</label>
        <input type="text" class="form-control" placeholder="Level Name" asp-for="Server.Options.LevelName" value="@Model.Server.Options.LevelName" />
        <label class="form-label" asp-for="Server.Options.LevelSeed">Level Seed</label>
        <input type="text" class="form-control" placeholder="Level Seed" asp-for="Server.Options.LevelSeed" value="@Model.Server.Options.LevelSeed" />
        <label class="form-label" asp-for="Server.Options.Port">Port</label>
        <input type="text" class="form-control" placeholder="Port" asp-for="Server.Options.Port" value="@Model.Server.Options.Port" />
        <label class="form-label" asp-for="Server.Options.Portv6">Portv6</label>
        <input type="text" class="form-control" placeholder="Portv6" asp-for="Server.Options.Portv6" value="@Model.Server.Options.Portv6" />
        <label class="form-label" asp-for="Server.Options.MaxPlayers">Max Players</label>
        <input type="text" class="form-control" placeholder="Max Players" asp-for="Server.Options.MaxPlayers" value="@Model.Server.Options.MaxPlayers" />
        <label class="form-label" asp-for="Server.Options.Gamemode">Gamemode</label>
        <select class="form-control" asp-for="Server.Options.Gamemode" value="@Model.Server.Options.Gamemode">
            <option value="survival">Survival</option>
            <option value="creative">Creative</option>
            <option value="adventure">Adventure</option>
        </select>
        <label class="form-label" asp-for="Server.Options.Difficulty">Difficulty</label>
        <select class="form-control" asp-for="Server.Options.Difficulty" value="@Model.Server.Options.Difficulty">
            <option value="easy">Easy</option>
            <option value="normal">Normal</option>
            <option value="hard">Hard</option>
        </select>
        <label class="form-label" asp-for="Server.Options.AllowCheats">Allow Cheats</label>
        <select class="form-control" asp-for="Server.Options.AllowCheats" value="@Model.Server.Options.AllowCheats">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
        <label class="form-label" asp-for="Server.Options.OnlineMode">Online Mode</label>
        <select class="form-control" asp-for="Server.Options.OnlineMode" value="@Model.Server.Options.OnlineMode">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
        <label class="form-label" asp-for="Server.Options.AllowList">Allow List</label>
        <select class="form-control" asp-for="Server.Options.AllowList" value="@Model.Server.Options.AllowList">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
        <label class="form-label" asp-for="Server.Options.DefaultPlayerPermissionLevel">Default Player Permission Level</label>
        <select class="form-control" asp-for="Server.Options.DefaultPlayerPermissionLevel" value="@Model.Server.Options.DefaultPlayerPermissionLevel">
            <option value="visitor">Visitor</option>
            <option value="member">Member</option>
            <option value="operator">Operator</option>
        </select>
        <label class="form-label" asp-for="Server.Options.TexturePackRequired">Texturepack Required</label>
        <select class="form-control" asp-for="Server.Options.TexturePackRequired" value="@Model.Server.Options.TexturePackRequired">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
        <label class="form-label" asp-for="Server.Options.ForceGamemode">Force Game Mode</label>
        <select class="form-control" asp-for="Server.Options.ForceGamemode" value="@Model.Server.Options.ForceGamemode">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
        <hr />
        <!-- Advanced Settings -->
        <div class="accordion" id="MoreSettings">
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#AdvancedSettings" aria-expanded="false" aria-controls="AdvancedSettings">
                        Advanced Settings
                    </button>
                </h2>
                <div id="AdvancedSettings" class="accordion-collapse collapse" data-bs-parent="#MoreSettings">
                    <div class="accordion-body">
                        <label class="form-label" asp-for="Server.Options.MaxThreads">Max Threads</label>
                        <input type="number" class="form-control" placeholder="Max Threads" asp-for="Server.Options.MaxThreads" value="@Model.Server.Options.MaxThreads" />
                        <label class="form-label" asp-for="Server.Options.ViewDistance">View Distance</label>
                        <input type="number" class="form-control" placeholder="View Distance" asp-for="Server.Options.ViewDistance" value="@Model.Server.Options.ViewDistance" />
                        <label class="form-label" asp-for="Server.Options.TickDistance">Tick Distance</label>
                        <input type="number" class="form-control" placeholder="Tick Distance" asp-for="Server.Options.TickDistance" value="@Model.Server.Options.TickDistance" />
                        <label class="form-label" asp-for="Server.Options.PlayerIdleTimeout">Player Idle Timeout</label>
                        <input type="number" class="form-control" placeholder="Player Idle Timeout" asp-for="Server.Options.PlayerIdleTimeout" value="@Model.Server.Options.PlayerIdleTimeout" />
                        <label class="form-label" asp-for="Server.Options.CompressionThreshold">Compression Threshold</label>
                        <input type="number" class="form-control" placeholder="Compression Threshold" asp-for="Server.Options.CompressionThreshold" value="@Model.Server.Options.CompressionThreshold" />
                        <label class="form-label" asp-for="Server.Options.ContentLog">Content Log</label>
                        <select class="form-control" asp-for="Server.Options.ContentLog" value="@Model.Server.Options.ContentLog">
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                        <label class="form-label" asp-for="Server.Options.ServerAuthoritativeMovement">Server Authoritative Movement</label>
                        <select class="form-control" asp-for="Server.Options.ServerAuthoritativeMovement" value="@Model.Server.Options.ServerAuthoritativeMovement">
                            <option value="client-auth">Client Auth</option>
                            <option value="server-auth">Server Auth</option>
                            <option value="server-auth-with-rewind">Server Auth w/ Rewind</option>
                        </select>
                        <label class="form-label" asp-for="Server.Options.PlayerMovementScoreThreshold">Player Movement Score Threshold</label>
                        <input type="number" class="form-control" placeholder="Player Movement Score Threshold" asp-for="Server.Options.PlayerMovementScoreThreshold" value="@Model.Server.Options.PlayerMovementScoreThreshold" />
                        <label class="form-label" asp-for="Server.Options.PlayerMovementDistanceThreshold">Player Movement Distance Threshold</label>
                        <input type="number" step="0.1" class="form-control" placeholder="Player Movement Distance Threshold" asp-for="Server.Options.PlayerMovementDistanceThreshold" value="@Model.Server.Options.PlayerMovementDistanceThreshold" />
                        <label class="form-label" asp-for="Server.Options.PlayerMovementDurationThresholdInMs">Player Movement Duration Threshold In Ms</label>
                        <input type="number" class="form-control" placeholder="Player Movement Duration Threshold In Ms" asp-for="Server.Options.PlayerMovementDurationThresholdInMs" value="@Model.Server.Options.PlayerMovementDurationThresholdInMs" />
                        <label class="form-label" asp-for="Server.Options.PlayerMovementActionDirectionThreshold">Player Movement Action Direction Threshold</label>
                        <input type="number" step="0.1" class="form-control" placeholder="Player Movement Action Direction Threshold" asp-for="Server.Options.PlayerMovementActionDirectionThreshold" value="@Model.Server.Options.PlayerMovementActionDirectionThreshold" />
                        <label class="form-label" asp-for="Server.Options.CorrectPlayerMovement">Correct Player Movement</label>
                        <select class="form-control" asp-for="Server.Options.CorrectPlayerMovement" value="@Model.Server.Options.CorrectPlayerMovement">
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                        <label class="form-label" asp-for="Server.Options.ServerAuthoritativeBlockBreaking">Server Authoritative Block Breaking</label>
                        <select class="form-control" asp-for="Server.Options.ServerAuthoritativeBlockBreaking" value="@Model.Server.Options.ServerAuthoritativeBlockBreaking">
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#AllowList" aria-expanded="false" aria-controls="AllowList">
                        Allow List
                    </button>
                </h2>
                <div id="AllowList" class="accordion-collapse collapse" data-bs-parent="#MoreSettings">
                    <div class="accordion-body">
                        
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#Permissions" aria-expanded="false" aria-controls="Permissions">
                        Permissions
                    </button>
                </h2>
                <div id="Permissions" class="accordion-collapse collapse" data-bs-parent="#MoreSettings">
                    <div class="accordion-body">
                        
                    </div>
                </div>
            </div>

        </div>
        <button id="create-button" type="submit" class="btn btn-primary" asp-page-handler="New">Create</button>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $("#create-button").click(function(){
            $(this).text("Creating...").attr("disabled", "disabled");
        });
    });
</script>