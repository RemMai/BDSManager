@page
@model NewServerModel
@{
    ViewData["Title"] = "Create New Server";
}

<div class="text-center">
    <h1 class="display-4">Create New Server</h1>
    <form method="post" asp-action="New">
        <label asp-for="Server.Name">Name</label>
        <input type="text" class="form-control" placeholder="Name" asp-for="Server.Name" value="@Model.Server.Name" />
        <label asp-for="Server.Description">Description</label>
        <input type="text" class="form-control" placeholder="Description" asp-for="Server.Description" value="@Model.Server.Description" />
        <label asp-for="Server.LevelName">Level Name</label>
        <input type="text" class="form-control" placeholder="Level Name" asp-for="Server.LevelName" value="@Model.Server.LevelName" />
        <label asp-for="Server.LevelSeed">Level Seed</label>
        <input type="text" class="form-control" placeholder="Level Seed" asp-for="Server.LevelSeed" value="@Model.Server.LevelSeed" />
        <label asp-for="Server.Icon">Icon</label>
        <input type="text" class="form-control" placeholder="Icon" asp-for="Server.Icon" value="@Model.Server.Icon" />
        <label asp-for="Server.Port">Port</label>
        <input type="text" class="form-control" placeholder="Port" asp-for="Server.Port" value="@Model.Server.Port" />
        <label asp-for="Server.Portv6">Portv6</label>
        <input type="text" class="form-control" placeholder="Portv6" asp-for="Server.Portv6" value="@Model.Server.Portv6" />
        <label asp-for="Server.MaxPlayers">Max Players</label>
        <input type="text" class="form-control" placeholder="Max Players" asp-for="Server.MaxPlayers" value="@Model.Server.MaxPlayers" />
        <label asp-for="Server.Gamemode">Gamemode</label>
        <select class="form-control" asp-for="Server.Gamemode" value="@Model.Server.Gamemode">
            <option value="survival">Survival</option>
            <option value="creative">Creative</option>
            <option value="adventure">Adventure</option>
        </select>
        <label asp-for="Server.Difficulty">Difficulty</label>
        <select class="form-control" asp-for="Server.Difficulty" value="@Model.Server.Difficulty">
            <option value="easy">Easy</option>
            <option value="normal">Normal</option>
            <option value="hard">Hard</option>
        </select>
        <label asp-for="Server.AllowCheats">Allow Cheats</label>
        <select class="form-control" asp-for="Server.AllowCheats" value="@Model.Server.AllowCheats">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
        <label asp-for="Server.OnlineMode">Online Mode</label>
        <select class="form-control" asp-for="Server.OnlineMode" value="@Model.Server.OnlineMode">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
        <label asp-for="Server.AllowList">Allow List</label>
        <select class="form-control" asp-for="Server.AllowList" value="@Model.Server.AllowList">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
        <select class="form-control" asp-for="Server.DefaultPlayerPermissionLevel" value="@Model.Server.DefaultPlayerPermissionLevel">
            <option value="visitor">Visitor</option>
            <option value="member">Member</option>
            <option value="operator">Operator</option>
        </select>
        <label asp-for="Server.TexturepackRequired">Texturepack Required</label>
        <select class="form-control" asp-for="Server.TexturepackRequired" value="@Model.Server.TexturepackRequired">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>
        <label asp-for="Server.ForceGameMode">Force Game Mode</label>
        <select class="form-control" asp-for="Server.ForceGameMode" value="@Model.Server.ForceGameMode">
            <option value="true">True</option>
            <option value="false">False</option>
        </select>

        <!-- Advanced Settings -->
        <div class="accordion" id="MoreSettings">
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#AdvancedSettings" aria-expanded="true" aria-controls="AdvancedSettings">
                        Advanced Settings
                    </button>
                </h2>
                <div id="AdvancedSettings" class="accordion-collapse collapse show" data-bs-parent="#MoreSettings">
                    <div class="accordion-body">
                        <label asp-for="Server.MaxThreads">Max Threads</label>
                        <input type="number" class="form-control" placeholder="Max Threads" asp-for="Server.MaxThreads" value="@Model.Server.MaxThreads" />
                        <label asp-for="Server.ViewDistance">View Distance</label>
                        <input type="number" class="form-control" placeholder="View Distance" asp-for="Server.ViewDistance" value="@Model.Server.ViewDistance" />
                        <label asp-for="Server.TickDistance">Tick Distance</label>
                        <input type="number" class="form-control" placeholder="Tick Distance" asp-for="Server.TickDistance" value="@Model.Server.TickDistance" />
                        <label asp-for="Server.PlayerIdleTimeout">Player Idle Timeout</label>
                        <input type="number" class="form-control" placeholder="Player Idle Timeout" asp-for="Server.PlayerIdleTimeout" value="@Model.Server.PlayerIdleTimeout" />
                        <label asp-for="Server.CompressionThreshold">Compression Threshold</label>
                        <input type="number" class="form-control" placeholder="Compression Threshold" asp-for="Server.CompressionThreshold" value="@Model.Server.CompressionThreshold" />
                        <label asp-for="Server.ContentLog">Content Log</label>
                        <select class="form-control" asp-for="Server.ContentLog" value="@Model.Server.ContentLog">
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                        <label asp-for="Server.ServerAuthoritativeMovement">Server Authoritative Movement</label>
                        <select class="form-control" asp-for="Server.ServerAuthoritativeMovement" value="@Model.Server.ServerAuthoritativeMovement">
                            <option value="client-auth">Client Auth</option>
                            <option value="server-auth">Server Auth</option>
                            <option value="server-auth-with-rewind">Server Auth w/ Rewind</option>
                        </select>
                        <label asp-for="Server.PlayerMovementScoreThreshold">Player Movement Score Threshold</label>
                        <input type="number" class="form-control" placeholder="Player Movement Score Threshold" asp-for="Server.PlayerMovementScoreThreshold" value="@Model.Server.PlayerMovementScoreThreshold" />
                        <label asp-for="Server.PlayerMovementDistanceThreshold">Player Movement Distance Threshold</label>
                        <input type="number" step="0.1" class="form-control" placeholder="Player Movement Distance Threshold" asp-for="Server.PlayerMovementDistanceThreshold" value="@Model.Server.PlayerMovementDistanceThreshold" />
                        <label asp-for="Server.PlayerMovementDurationThresholdInMs">Player Movement Duration Threshold In Ms</label>
                        <input type="number" class="form-control" placeholder="Player Movement Duration Threshold In Ms" asp-for="Server.PlayerMovementDurationThresholdInMs" value="@Model.Server.PlayerMovementDurationThresholdInMs" />
                        <label asp-for="Server.PlayerMovementActionDirectionThreshold">Player Movement Action Direction Threshold</label>
                        <input type="number" step="0.1" class="form-control" placeholder="Player Movement Action Direction Threshold" asp-for="Server.PlayerMovementActionDirectionThreshold" value="@Model.Server.PlayerMovementActionDirectionThreshold" />
                        <label asp-for="Server.CorrectPlayerMovement">Correct Player Movement</label>
                        <select class="form-control" asp-for="Server.CorrectPlayerMovement" value="@Model.Server.CorrectPlayerMovement">
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                        <label asp-for="Server.ServerAuthoritativeBlockBreaking">Server Authoritative Block Breaking</label>
                        <select class="form-control" asp-for="Server.ServerAuthoritativeBlockBreaking" value="@Model.Server.ServerAuthoritativeBlockBreaking">
                            <option value="true">True</option>
                            <option value="false">False</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <input id="create-button" type="submit" class="btn btn-primary" value="Create" />
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $("#create-button").click(function(){
            $(this).val("Creating...").attr("disabled", "disabled");
        });
    });
</script>